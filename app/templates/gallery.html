<ion-view view-title="JavaScript Lastest Feeds">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>

  <ion-content  class="has-header">

    <div class="card" ng-repeat="feedSrc in vm.feeds" ng-if="!vm.isLoadingFeeds">
      <div class="item-divider" ng-click="vm.expandFeed(feedSrc)">
        <div class="circled {{feedSrc.class}}">
          <span class="feed-text-center">{{feedSrc.name.substring(0, 1) }}</span></div> {{feedSrc.name}}
      </div>
      <div ng-click="vm.openPostInBrowser(post)" class="item item-text-wrap" ng-repeat="post in feedSrc.data" ng-show="feedSrc.open">
        <div class="button-small">{{post.date | date:"MM/dd/yyyy 'at' h:mma"}}
          by <b>{{post.author || 'anonymous'}}</b>
        </div>
        <div><b>{{post.title}}</b></div>
        <div ng-bind-html="post.summary || ''" class="feed-summary"></div>
      </div>
    </div>

    <img src="img/load.gif" ng-if="vm.isLoadingFeeds || vm.isLoadingBlogs">

      <div class="card" ng-repeat="blogSrc in vm.blogs" ng-if="!vm.isLoadingBlogs">
        <div class="item-divider"  ng-click="vm.expandFeed(blogSrc)">
          <div class="circled {{blogSrc.class}}"><span class="feed-text-center">{{blogSrc.name.substring(0, 1) }}</span></div> {{blogSrc.name}}
        </div>
       <div  ng-click="vm.openPostInBrowser(post)"  class="item item-text-wrap" ng-repeat="blog in blogSrc.data"  ng-show="blogSrc.open">
          <div class="button-small">{{blog.date | date:"MM/dd/yyyy 'at' h:mma"}}
            <span><b>{{blog.author|| 'anonymous' }}</b></span>
          </div>
          <div><b>{{blog.title}}</b></div>
          <div>{{blog.summary || ''}}</div>
        </div>
      </div>

  </ion-content>
</ion-view>
